(()=>{"use strict";const e=({slidesClass:e,prevId:t,nextId:s,slidesWrapperClass:o,slidesFieldClass:r,totalClass:n,currentClass:l})=>{const a=document.querySelector(o),c=a.querySelectorAll(e),i=document.getElementById(t),d=document.getElementById(s),u=a.querySelector(r),p=getComputedStyle(a).width,m=document.querySelector(l),y=document.querySelector(n),h=()=>"none"!==getComputedStyle(u).display;y&&(y.textContent=c.length);let g=0;u.style.width=100*c.length+"%",u.style.display="flex",u.style.minWidth="max-content",u.style.transition="0.5s all",a.style.overflow="hidden",c.forEach((e=>{e.style.width=p})),d.addEventListener("click",(()=>{h()&&(m&&(+m.textContent===c.length?m.textContent=1:m.textContent=+m.textContent+1),g===parseFloat(p)*(c.length-1)?g=0:g+=parseFloat(p),u.style.transform=`translateX(-${g}px)`)})),i.addEventListener("click",(()=>{h()&&(m&&(1==+m.textContent?m.textContent=c.length:m.textContent=+m.textContent-1),0==g?g=parseFloat(p)*(c.length-1):g-=parseFloat(p),u.style.transform=`translateX(-${g}px)`)}))},t=()=>{document.body.style.marginRight=`${(()=>{let e=0;if(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)>document.documentElement.clientHeight){let t=document.createElement("div");t.style.width="500px",t.style.height="500px",t.style.overflowY="scroll",t.style.visibility="hidden",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,t.remove()}return e})()}px`,document.body.style.overflow="hidden"},s=()=>{document.body.style.marginRight="0",document.body.style.overflow="auto"},o=(e,t)=>{t.preventDefault();const s=e.getAttribute("href").substring(1),o=document.getElementById(s).getBoundingClientRect().top;window.scrollBy({top:o,behavior:"smooth"})};(()=>{const e=document.querySelector(".header-contacts__arrow"),r=e.querySelector("img"),n=document.querySelector(".header-contacts__phone-number-accord"),l=n.querySelector(".header-contacts__phone-number"),a=document.querySelector(".menu__icon"),c=document.querySelector(".popup-menu"),i=c.querySelector(".popup-dialog-menu"),d=document.querySelectorAll(".show-all-services"),u=document.querySelector(".popup-repair-types"),p=document.querySelector(".popup-privacy");e.addEventListener("click",(()=>{n.classList.toggle("header-contacts__phone-number-accord--open"),l.classList.toggle("header-contacts__phone-number--show"),r.classList.toggle("header-contacts__arrow-img--open")}));const m=()=>{c.classList.remove("popup-menu--active"),i.classList.remove("popup-dialog-menu--active"),s()},y=(e,o="")=>{e.classList.toggle("popup--active"),e.classList.contains("popup--active")?t():s(),e.matches(".popup-repair-types.popup--active")&&o.preventDefault()};a.addEventListener("click",(()=>{c.classList.add("popup-menu--active"),i.classList.add("popup-dialog-menu--active"),t()})),document.addEventListener("click",(e=>{const t=e.target;if(t.closest(".close-menu")||t.classList.contains("popup-menu--active"))m();else if(t.closest(".popup-menu-nav__item"))o(t,e),m();else if(t.closest(".button-footer")){const s=t.closest(".button-footer").querySelector("a");o(s,e)}else if(t.classList.contains("link-privacy"))y(p);else if(t.closest(".close")||t.classList.contains("popup--active")){const e=t.closest(".popup--active");y(e)}})),d.forEach((e=>e.addEventListener("click",(e=>{y(u,e)}))))})(),document.querySelectorAll("form").forEach((e=>e.addEventListener("submit",(function(e){const t=this.querySelectorAll("input[type=text]"),s=this.querySelector("input[type=checkbox]");let o=!0;if(t.forEach((e=>{switch(e.name){case"phone":e.value<18&&(alert("Пожалуйста, введите номер телефона."),o=!1);break;case"name":""===e.value.trim()&&(alert("Пожалуйста, напишите ваше имя."),o=!1)}})),s.checked||(alert("Пожалуйста, дайте согласие на обработку персональных данных."),o=!1),o){const e=new FormData(this);let t={};e.forEach(((e,s)=>{t[s]=e})),r=t,fetch("../server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.json())).catch((()=>console.error(new Error("Ошибка отправки данных из формы")))),this.reset()}var r;e.preventDefault()})))),function(e,t="+7 (___) ___-__-__"){const s=document.querySelectorAll(e);function o(e){const s=e.keyCode,o=t,r=o.replace(/\D/g,""),n=this.value.replace(/\D/g,"");let l=0,a=o.replace(/[_\d]/g,(function(e){return l<n.length?n.charAt(l++)||r.charAt(l):e}));l=a.indexOf("_"),-1!=l&&(a=a.slice(0,l));let c=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||s>47&&s<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of s)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)}('input[data-mask="phone"'),(()=>{const t=document.querySelectorAll(".mobile-hide .formula-item__icon"),s=document.querySelector(":root");if(t.forEach((e=>{e.addEventListener("mouseenter",(function(e){const t=e.target.closest(".formula-item"),o=t.querySelector(".formula-item-popup"),r=t.getBoundingClientRect().top,n=parseInt(getComputedStyle(o).height)+15;r<n?(s.style.setProperty("--number-degrees","180deg"),o.style.paddingTop="40px",o.style.bottom=-(n+15)+"px"):(s.style.setProperty("--number-degrees",0),o.style.paddingTop="20px",o.style.bottom="90px"),t.classList.add("active-item")})),e.addEventListener("mouseleave",(function(e){e.target.closest(".formula-item").classList.remove("active-item")}))})),window.screen.width<1026){const t=document.querySelectorAll(".desktop-hide .formula-item__icon");s.style.setProperty("--number-degrees","180deg"),t.forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".formula-item").classList.toggle("active-item")}))})),e({slidesClass:".formula-slider__slide",prevId:"formula-arrow_left",nextId:"formula-arrow_right",slidesWrapperClass:".formula-slider-wrap",slidesFieldClass:".formula-slider"})}})(),(()=>{const t=document.querySelectorAll(".repair-types__tab-content");(({tabsContainerClass:e,tabClass:t,contentClass:s})=>{const o=document.querySelector(e),r=o.querySelectorAll(t),n=document.querySelectorAll(s),l=document.querySelector(".slider-counter-content__total"),a=document.querySelector(".slider-counter-content__current");o.addEventListener("click",(e=>{const s=e.target.closest(t);s&&r.forEach(((e,t)=>{s===e?(e.classList.add("active"),n[t].classList.remove("d-none"),(e=>{const t=n[e].querySelectorAll(".repair-types-slider__slide").length;l.textContent=t,a.textContent=1,n[e].style.transform="translateX(0)"})(t)):(e.classList.remove("active"),n[t].classList.add("d-none"))}))}))})({tabsContainerClass:".nav-list-repair",tabClass:".repair-types-nav__item",contentClass:".repair-types__tab-content"}),window.screen.width<1026&&e({slidesClass:".repair-types-nav__item",prevId:"nav-arrow-repair-left_base",nextId:"nav-arrow-repair-right_base",slidesWrapperClass:".repair-types-nav",slidesFieldClass:".nav-list-repair"}),t.forEach(((t,s)=>{e({slidesClass:`.types-repair${s+1} .repair-types-slider__slide`,prevId:"repair-types-arrow_left",nextId:"repair-types-arrow_right",slidesWrapperClass:".repair-types-slider",slidesFieldClass:`.types-repair${s+1}`,currentClass:".slider-counter-content__current",totalClass:".slider-counter-content__total"})}))})()})();