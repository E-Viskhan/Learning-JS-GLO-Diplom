(()=>{"use strict";const e=()=>document.location.href="table.html";"true"===(e=>{let t=document.cookie.match(new RegExp("(?:^|; )"+"access".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0})()&&e();const t=document.getElementById("form");t.addEventListener("submit",(async o=>{const n=t.querySelector("#login"),r=t.querySelector("#password");o.preventDefault(),await(async()=>{const e=n.value.trim(),t=r.value.trim();return await(async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error("Произошла ошибка, данных нет!");return await t.json()}catch(e){console.error(e.message)}})(`http://localhost:3000/users?login=${e}&password=${t}`).then((e=>!!e.length))})()?(((e,t)=>{let o=new Date(Date.now()+864e5);o=o.toUTCString(),document.cookie=`access=true;expires=${o}`})(),e()):(t.reset(),document.querySelector(".text-warning").classList.remove("d-none"))}))})();